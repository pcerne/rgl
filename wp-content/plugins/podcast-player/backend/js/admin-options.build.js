!function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=window.ppjsAdminOpt||{},this.url=jQuery(".pp-toolkit-url").first(),this.index=jQuery(".select-pp-feed-index").first(),this.refresh=jQuery(".pp-feed-refresh"),this.reset=jQuery(".pp-feed-reset"),this.feedback=jQuery(".pp-toolkit-feedback").first(),this.events()}var i,s;return i=t,(s=[{key:"events",value:function(){this.refresh.on("click",function(){this.ajaxFeedEditor("refresh")}.bind(this)),this.reset.on("click",function(){this.ajaxFeedEditor("reset")}.bind(this))}},{key:"ajaxFeedEditor",value:function(e){var t=this,i=this.getAjaxConfig(e);this.response(this.data.messages.running,"pp-running"),i?jQuery.ajax({url:this.data.ajaxurl,data:i,type:"POST",timeout:4e3,success:function(e){var i=jQuery.parseJSON(e);jQuery.isEmptyObject(i)||(void 0!==i.error?t.response(i.error,"pp-error"):void 0!==i.message&&t.response(i.message,"pp-success"))},error:function(e,i,s){t.response(s,"pp-error")}}):this.response(this.data.messages.nourl,"pp-error")}},{key:"getAjaxConfig",value:function(e){var t=this.index.val();return t?{action:"pp_feed_editor",security:this.data.security,atype:e,feedUrl:t,rFrom:"indexKey"}:!!(t=this.url.val())&&{action:"pp_feed_editor",security:this.data.security,atype:e,feedUrl:t}}},{key:"response",value:function(e,t){this.feedback.removeClass("pp-error pp-success pp-running").addClass(t),this.feedback.find(".pp-feedback").text(e)}}])&&e(i.prototype,s),t}();new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jQuery("#pp-options-content").tabs(),jQuery("#pp-options-module-help .pp-docs-hide").hide(),jQuery("#pp-options-module-help .pp-docs-title").on("click",(function(){jQuery(this).toggleClass("pp-toggle"),jQuery(this).next().slideToggle("fast")})),jQuery("#pp-options-module-toolkit .pp-toolkit-content").hide(),jQuery("#pp-options-module-toolkit .pp-toolkit-title").on("click",(function(){jQuery(this).toggleClass("pp-toggle"),jQuery(this).next().slideToggle("fast")})),jQuery(".pp-hidden-settings").hide(),jQuery(".pp-hidden-settings-title").on("click",(function(){jQuery(this).toggleClass("pp-toggle"),jQuery(this).next().slideToggle("fast")}))},new t}();